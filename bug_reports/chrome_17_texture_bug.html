<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>
$(window).load(function() {
var canvas = document.getElementById("foo");
var gl = canvas.getContext("experimental-webgl");

var result_2 = gl.createBuffer();
gl.bindBuffer(34963, result_2);
gl.bufferData(34963, (new Uint16Array([0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23])), 35044);
var result_3 = gl.createBuffer();
gl.bindBuffer(34962, result_3);
gl.bufferData(34962, (new Float32Array([1, 1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, 1, -1, 1, -1, -1, 1, -1, -1, -1, 1, -1, -1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, -1, -1, -1, -1, -1, -1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, -1, -1, -1, -1, -1, -1, 1, 1, 1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1])), 35044);
var result_4 = gl.createBuffer();
gl.bindBuffer(34962, result_4);
gl.bufferData(34962, (new Float32Array([0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0])), 35044);
var result_5 = gl.createBuffer();
gl.bindBuffer(34962, result_5);
gl.bufferData(34962, (new Float32Array([0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1])), 35044);
var result_6 = gl.createTexture();
var result_9 = gl.createShader(35633);
gl.shaderSource(result_9, 'precision highp float;\n' + 
' uniform mat4 _unique_name_5;\n' + 
' uniform mat4 _unique_name_4;\n' + 
' attribute vec3 _unique_name_1;\n' + 
' void glsl_name_7 (void) {\n' + 
'      ( gl_Position = ((_unique_name_5 * _unique_name_4) * vec4(_unique_name_1, float(1))) ) ;\n' + 
'}\n' + 
' mat3 glsl_name_33 ;\n' + 
' attribute vec3 _unique_name_2;\n' + 
' varying float _unique_name_7;\n' + 
' void glsl_name_29 (void) {\n' + 
'      ( _unique_name_7 = max ( dot ( normalize ( (vec3(0, 0, 2) - (glsl_name_33 * _unique_name_1)) ), (glsl_name_33 * normalize ( _unique_name_2 )) ), float(0) ) ) ;\n' + 
'}\n' + 
' attribute vec2 _unique_name_3;\n' + 
' varying vec2 _unique_name_8;\n' + 
' void glsl_name_31 (void) {\n' + 
'      ( _unique_name_8 = _unique_name_3 ) ;\n' + 
'}\n' + 
' void main() {\n' + 
'      glsl_name_33 = mat3(_unique_name_4[0].xyz, _unique_name_4[1].xyz, _unique_name_4[2].xyz) ;\n' + 
'      glsl_name_7(); glsl_name_29(); glsl_name_31() ;\n' + 
' }\n' + 
'');
gl.compileShader(result_9);
var result_10 = gl.createShader(35632);
gl.shaderSource(result_10, 'precision highp float;\n' + 
' uniform sampler2D _unique_name_6;\n' + 
' varying vec2 _unique_name_8;\n' + 
' vec4 glsl_name_11 ;\n' + 
' varying float _unique_name_7;\n' + 
' void glsl_name_10 (void) {\n' + 
'      ( gl_FragColor = ((vec4(0.501960813999176, 0.501960813999176, 0.501960813999176, 1) * glsl_name_11) + ((_unique_name_7 * vec4(1, 1, 1, 1)) * glsl_name_11)) ) ;\n' + 
'      gl_FragColor = glsl_name_11;\n' + 
'}\n' + 
' void main() {\n' + 
'      glsl_name_11 = texture2D ( _unique_name_6, _unique_name_8 ) ;\n' + 
'      glsl_name_10() ;\n' + 
' }\n' + 
'');
gl.compileShader(result_10);
var result_11 = gl.createProgram();
gl.attachShader(result_11, result_9);
gl.attachShader(result_11, result_10);
gl.linkProgram(result_11);
var result_12 = gl.getActiveUniform(result_11, 0);
var result_13 = gl.getUniformLocation(result_11, '_unique_name_4');
var result_14 = gl.getActiveUniform(result_11, 1);
var result_15 = gl.getUniformLocation(result_11, '_unique_name_5');
var result_16 = gl.getActiveUniform(result_11, 2);
var result_17 = gl.getUniformLocation(result_11, '_unique_name_6');
var result_18 = gl.getActiveAttrib(result_11, 0);
var result_19 = gl.getActiveAttrib(result_11, 1);
var result_20 = gl.getActiveAttrib(result_11, 2);

var steps = [
function () {
gl.clearDepth(1);
gl.clearColor(0, 0, 0, 0.2);
gl.clear(16640);
gl.enable(2929);
gl.depthFunc(513);
gl.disable(2929);
gl.disable(3042);
gl.depthMask(true);
gl.enable(2929);
gl.useProgram(result_11);
gl.bindTexture(3553, result_6);
gl.pixelStorei(37440, true);
gl.texImage2D(3553, 0, 6408, 6408, 5121, document.getElementById("nehe"));
gl.texParameteri(3553, 10240, 9729);
gl.texParameteri(3553, 10241, 9729);
gl.texParameteri(3553, 10242, 33071);
gl.texParameteri(3553, 10243, 33071);
gl.bindTexture(3553, null);
gl.disable(2929);
gl.disable(3042);
gl.depthMask(true);

gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.disable(2929);
gl.disable(3042);
gl.depthMask(true);
gl.enable(2929);
gl.useProgram(result_11);
gl.enableVertexAttribArray(0);
gl.bindBuffer(34962, result_3);
gl.vertexAttribPointer(0, 3, 5126, false, 0, 0);
gl.enableVertexAttribArray(1);
gl.bindBuffer(34962, result_4);
gl.vertexAttribPointer(1, 3, 5126, false, 0, 0);
gl.enableVertexAttribArray(2);
gl.bindBuffer(34962, result_5);
gl.vertexAttribPointer(2, 2, 5126, false, 0, 0);
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.9416516423225403, 0.26538369059562683, -0.2070353627204895, 0, -0.2070353627204895, 0.9416516423225403, 0.26538369059562683, 0, 0.26538369059562683, -0.2070353627204895, 0.9416516423225403, 0, 0, 0, -6, 1])));
gl.activeTexture(33984);
gl.bindTexture(3553, result_6);
gl.uniform1i(result_17, 0);
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}, function () {
gl.viewport(0, 0, 360, 240);
console.log(gl.getParameter(gl.VIEWPORT));
gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.8937110900878906, 0.36589986085891724, -0.2596109211444855, 0, -0.2596109211444855, 0.8937110900878906, 0.36589986085891724, 0, 0.36589986085891724, -0.2596109211444855, 0.8937110900878906, 0, 0, 0, -6, 1])));
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}, function () {
// gl.viewport(0, 0, 720, 480);
console.log(gl.getParameter(gl.VIEWPORT));
gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.8780965805053711, 0.3937550485134125, -0.27185165882110596, 0, -0.27185165882110596, 0.8780965805053711, 0.3937550485134125, 0, 0.3937550485134125, -0.27185165882110596, 0.8780965805053711, 0, 0, 0, -6, 1])));
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}, function () {
// gl.viewport(0, 0, 720, 480);
console.log(gl.getParameter(gl.VIEWPORT));
gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.8723358511924744, 0.40359753370285034, -0.2759333550930023, 0, -0.2759333550930023, 0.8723358511924744, 0.40359753370285034, 0, 0.40359753370285034, -0.2759333550930023, 0.8723358511924744, 0, 0, 0, -6, 1])));
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}, function () {
// gl.viewport(0, 0, 720, 480);
console.log(gl.getParameter(gl.VIEWPORT));
gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.8664564490318298, 0.413424551486969, -0.27988100051879883, 0, -0.27988100051879883, 0.8664564490318298, 0.413424551486969, 0, 0.413424551486969, -0.27988100051879883, 0.8664564490318298, 0, 0, 0, -6, 1])));
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}, function () {
// gl.viewport(0, 0, 720, 480);
gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.8604597449302673, 0.4232339560985565, -0.28369367122650146, 0, -0.28369367122650146, 0.8604597449302673, 0.4232339560985565, 0, 0.4232339560985565, -0.28369367122650146, 0.8604597449302673, 0, 0, 0, -6, 1])));
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}, function () {
// gl.viewport(0, 0, 720, 480);
gl.clearDepth(1);
gl.clear(16640);
gl.enable(2929);
gl.uniformMatrix4fv(result_13, false, (new Float32Array([0.8547097444534302, 0.43244829773902893, -0.2871580421924591, 0, -0.2871580421924591, 0.8547097444534302, 0.43244829773902893, 0, 0.43244829773902893, -0.2871580421924591, 0.8547097444534302, 0, 0, 0, -6, 1])));
gl.uniformMatrix4fv(result_15, false, (new Float32Array([1.6094757318496704, 0, 0, 0, 0, 2.4142136573791504, 0, 0, 0, 0, -1.0020020008087158, -1, 0, 0, -0.20020020008087158, 0])));
gl.bindBuffer(34963, result_2);
gl.drawElements(4, 36, 5123, 0);
}];

var counter = 0;
function loop() {
    if (counter < steps.length) {
        window.webkitRequestAnimationFrame(loop, canvas);
        steps[counter++]();
    } 
}

window.webkitRequestAnimationFrame(loop, canvas);
});
</script>
</head>
<body>
<img src="../demos/img/nehe.jpg" id="nehe">
<div>
<canvas id="foo" width="640" height="400"></canvas>
</div>
</body>
</html>
