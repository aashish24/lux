<html>
<head><title>NeHe lesson 4 in Lux</title>
  <link rel="stylesheet" href="../css/bootstrap.css"/>
  <link rel="stylesheet" href="../css/style.css"/>
  <link rel="stylesheet" href="../css/mchighlight-javascript.css"/>
  <script src="../../lib/jquery-1.6.2.min.js"></script>
  <script src="../../lux.js"></script>
  <script src="../js/mclexer.js"></script>
  <script src="../js/mchighlight.js"></script>
  <script src="../js/mchighlight-javascript.js"></script>
  <script src="lesson4.js"></script>
</head>
<body>
<div class="body">
<div class="content">
<h1>Lesson 4</h1>
<canvas id="webgl" width="720" height="480"></canvas>
<div style="text-align: right">View the <a href="lesson4.js">full source</a>.</div>

<p>Most of the time we want our graphical elements to be dynamic in some way, be it changing with time, with respect to user input, or some combination thereof. On of the simplest ways to do this is by making the vertex positions dependent on the time since the page loaded. In Lux, this is done by using the <span class="keyword">now</span> parameter:</p>

<pre class="highlight">
var angle = gl.parameters.now.mul(50).radians();
</pre>

<p>Parameters are used in any expressions that are eventually baked, and can also be transformed. For example, while <span class="keyword">gl.parameters.now</span> represents the number of seconds since starting the webpage, <span class="keyword">gl.parameters.now.mul(50).radians()</span> represents a value increasing at a rate of 50*(pi/180) every second.
</p>

<p>We will use <span class="keyword">angle</span> to rotate the vertex positions before translating them. Notice that translations and rotations are transformations that behave like functions, in the same way camera does:</p>

<pre class="highlight">
Lux.Scene.add(Lux.bake(square, {
    position: camera(Shade.translation( 1.5, 0, -6))
                    (Shade.rotation(angle, Shade.vec(1, 0, 0)))
                    (square.vertex),
    color: Shade.color('#88f')
}));
</pre>

<p>Finally, we need to tell Lux that this scene should be updated regularly:</p>

<pre class="highlight">
Lux.Scene.animate();
</pre>

<p>Back to the <a href="../index.html">index</a>.</p>
<script>
$('.highlight').each(function(i, v) { Highlighter.highlight(v); });
</script>
</div>
</body>
</html>

